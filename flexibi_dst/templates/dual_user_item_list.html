{% extends 'base.html' %}
{% load render_table from django_tables2 %}

{% block content %}
    <div class="row">
        <div class="col">
            <div class="card shadow mb-3">
                <div class="card-header"><b>FLEXIBI standard {{ item_name_plural }}</b></div>
                <div class="card-body">{% render_table standard_item_table %}</div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="card shadow mb-3">
                <div class="card-header"><b>Your custom {{ item_name_plural }}</b></div>
                {% if user.is_authenticated %}
                    <div class="card-body">{% render_table custom_item_table %}</div>
                {% else %}
                    <div class="card-body">
                        <a href="{% url 'auth_login' %}?next={{ request.path | urlencode }}">Login</a>
                        to see your custom {{ item_name_plural }}.
                    </div>
                {% endif %}
                <div class="card-footer"></div>
            </div>
        </div>
    </div>

{% endblock content %}

{% block javascript %}
    {{ block.super }}

    <script type="text/javascript">
        $(document).ready(function () {

            $(".modal-link").each(function () {
                $(this).modalForm({
                    formURL: $(this).data()["link"],
                    errorClass: ".is-invalid"
                })
            });

        });
    </script>

{% endblock javascript %}